Purpose

This Python script generates a Cumulative Distribution Function (CDF) plot for the completion rates of transactions in a simulated payment channel network (or similar system). The input data comes from vector files (.vec) generated by the OMNeT++ simulator.

The script:

    Parses .vec files to extract completion rates.
    Calculates metrics such as average completion rates and overall success rates.
    Generates and saves a CDF plot for visualizing completion rates across paths.

Dependencies

The following Python libraries are required:

    matplotlib: For plotting the CDF.
    argparse: For parsing command-line arguments.
    os: For file path manipulation.
    json: For handling JSON data.
    numpy: For numerical operations.
    parse_vec_files (custom module): Used for parsing vector files (.vec) generated by the OMNeT++ simulator.

How It Works

    Input Parameters The script takes command-line arguments using argparse. The required arguments are:
        --vec_files: List of .vec files generated by OMNeT++.
        --labels: List of labels corresponding to the .vec files for the plot legend.
        --save: The output file path where the generated plot will be saved (e.g., output.png).

    Main Functions
        compute_avg_path_completion_rates(filename, shortest=True)
            Parses a .vec file to extract completion rates.
            Calculates:
                Average completion rates for each source-destination path.
                Overall success rate, defined as the ratio of completed transactions to attempted transactions.
            Returns:
                Overall success rate (float).
                Completion fractions (list of floats).
        plot_completion_rate_cdf(args)
            Loops through the provided .vec files.
            Calls compute_avg_path_completion_rates for each file to gather data.
            Plots a cumulative histogram (CDF) of the completion rates.
            Saves the plot to the file specified in --save.

    Output
        The script generates a CDF plot showing the distribution of completion rates for different paths and algorithms.
        The plot includes:
            X-axis: Completion rates (e.g., 0 to 1).
            Y-axis: Cumulative percentage of paths achieving a given completion rate.
            Legend: Labels corresponding to each .vec file.

    Graph Customization
        The script customizes the plot using parameters like:
            figsize, font sizes, and colors.
            Line styles and markers (fmts list).
        The legend includes the label and overall success rate.
